/*
 * Copyright (c) 2025, Adrian Chadd <adrian@FreeBSD.org>
 *
 * Permission to use, copy, modify, and distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 */
#ifndef	__MTWN_MT7610_EEPROM_REG_H__
#define	__MTWN_MT7610_EEPROM_REG_H__

#define	MT7610_EEPROM_SIZE		512

/*
 * This is the layout of the MT7610 EEPROM / EFUSE.
 */

#define	MT7610_EEPROM_CHIP_ID			0x000
#define	MT7610_EEPROM_VERSION			0x002
#define	MT7610_EEPROM_MAC_ADDR			0x004
#define	MT7610_EEPROM_PCI_ID			0x00a
#define	MT7610_EEPROM_ANTENNA			0x022
#define		MT7610_EEPROM_ANTENNA_DUAL		0x8000
#define	MT7610_EEPROM_CFG1_INIT			0x024
#define	MT7610_EEPROM_NIC_CONF_0		0x034
#define		MT7610_EEPROM_NIC_CONF_0_RX_PATH	0x000f
#define		MT7610_EEPROM_NIC_CONF_0_RX_PATH_S	0
#define		MT7610_EEPROM_NIC_CONF_0_TX_PATH	0x00f0
#define		MT7610_EEPROM_NIC_CONF_0_TX_PATH_S	4
#define		MT7610_EEPROM_NIC_CONF_0_PA_TYPE	0x0300
#define		MT7610_EEPROM_NIC_CONF_0_PA_TYPE_S	8
#define		MT7610_EEPROM_NIC_CONF_0_PA_INT_VAL_2G	0x1
#define		MT7610_EEPROM_NIC_CONF_0_PA_INT_VAL_5G	0x2
#define		MT7610_EEPROM_NIC_CONF_0_PA_IO_CURRENT	0x0400
#define		MT7610_EEPROM_NIC_CONF_0_BOARD_TYPE	0x3000
#define		MT7610_EEPROM_NIC_CONF_0_BOARD_TYPE_S	12
#define			MT7610_EEPROM_NIC_CONF_0_BOARD_TYPE_VAL_2GHZ	1
#define			MT7610_EEPROM_NIC_CONF_0_BOARD_TYPE_VAL_5GHZ	2
#define	MT7610_EEPROM_NIC_CONF_1		0x036
#define		MT7610_EEPROM_NIC_CONF_1_HW_RF_CTRL	0x0001
#define		MT7610_EEPROM_NIC_CONF_1_TEMP_TX_ALC	0x0002
#define		MT7610_EEPROM_NIC_CONF_1_LNA_EXT_2G	0x0004
#define		MT7610_EEPROM_NIC_CONF_1_LNA_EXT_5G	0x0008
#define		MT7610_EEPROM_NIC_CONF_1_TX_ALC_EN	0x2000
#define	MT7610_EEPROM_COUNTRY_REGION_5GHZ	0x038 /* Note: one byte */
#define	MT7610_EEPROM_COUNTRY_REGION_2GHZ	0x039 /* Note: one byte */
#define	MT7610_EEPROM_FREQ_OFFSET		0x03a /* Note: 1 byte */
#define	MT7610_EEPROM_NIC_CONF_2		0x042
#define		MT7610_EEPROM_NIC_CONF_2_ANT_OPT	0x0008
#define		MT7610_EEPROM_NIC_CONF_2_ANT_DIV	0x0010
#define		MT7610_EEPROM_NIC_CONF_2_XTAL_OPTION	0x0600
#define		MT7610_EEPROM_NIC_CONF_2_XTAL_OPTION_S	9

#define	MT7610_EEPROM_2G_TARGET_POWER		0x0d0 /* Note: one byte */
#define	MT7610_EEPROM_TEMP_OFFSET		0x0d1 /* Note: one byte */
#define	MT7610_EEPROM_5G_TARGET_POWER		0x0d2 /* Note: one byte */

#define	MT7610_EEPROM_TSSI_BOUND4		0x0da	/* Note: 1 byte */
#define	MT7610_EEPROM_FREQ_OFFSET_COMPENSATION	0x0db	/* Note: one byte */

#define	MT7610_EEPROM_USAGE_MAP_START		0x1e0
#define	MT7610_EEPROM_USAGE_MAP_END		0x1fc

#define	MT7610_EEPROM_USAGE_MAP_SIZE		\
	(MT7610_EEPROM_USAGE_MAP_END - MT7610_EEPROM_USAGE_MAP_START + 1)

#endif	/* __MTWN_MT7610_EEPROM_REG_H__ */
